file: "../../src/actions.js"
group: actions
suites: [treePush]
---
suite: treePush
exportName: treePush
---
case: "add node to root"
in:
  - fileExplorer: {}
  - target: fileExplorer
    value:
      id: "folder1"
      name: "Folder 1"
      type: "folder"
out:
  fileExplorer:
    tree:
      - id: folder1
        children: []
    items:
      folder1:
        name: Folder 1
        type: folder
---
case: "add child node to folder"
in:
  - fileExplorer:
      tree:
        - id: folder1
          children: []
      items:
        folder1:
          name: "Folder 1"
          type: "folder"
  - target: fileExplorer
    value:
      id: file1
      name: "File 1.txt"
      type: "file"
    options:
      parent: folder1
out:
  fileExplorer:
    tree:
      - id: folder1
        children:
          - id: file1
            children: []
    items:
      folder1:
        name: Folder 1
        type: folder
      file1:
        name: File 1.txt
        type: file
---
case: "add node after specific sibling"
in:
  - fileExplorer:
      tree:
        - id: folder1
          children: []
        - id: folder2
          children: []
      items:
        folder1:
          name: "Folder 1"
          type: "folder"
        folder2:
          name: "Folder 2"
          type: "folder"
  - target: fileExplorer
    value:
      id: folder3
      name: "Folder 3"
      type: "folder"
    options:
      position:
        after: folder1
out:
  fileExplorer:
    tree:
      - id: folder1
        children: []
      - id: folder3
        children: []
      - id: folder2
        children: []
    items:
      folder1:
        name: Folder 1
        type: folder
      folder2:
        name: Folder 2
        type: folder
      folder3:
        name: Folder 3
        type: folder
---
case: "add node before specific sibling"
in:
  - fileExplorer:
      tree:
        - id: folder1
          children: []
        - id: folder2
          children: []
      items:
        folder1:
          name: "Folder 1"
          type: "folder"
        folder2:
          name: "Folder 2"
          type: "folder"
  - target: fileExplorer
    value:
      id: folder3
      name: "Folder 3"
      type: "folder"
    options:
      position:
        before: folder2
out:
  fileExplorer:
    tree:
      - id: folder1
        children: []
      - id: folder3
        children: []
      - id: folder2
        children: []
    items:
      folder1:
        name: Folder 1
        type: folder
      folder2:
        name: Folder 2
        type: folder
      folder3:
        name: Folder 3
        type: folder
---
case: "add node with position first"
in:
  - fileExplorer:
      tree:
        - id: folder1
          children: []
      items:
        folder1:
          name: "Folder 1"
          type: "folder"
  - target: fileExplorer
    value:
      id: folder2
      name: "Folder 2"
      type: "folder"
    options:
      position: "first"
out:
  fileExplorer:
    tree:
      - id: folder2
        children: []
      - id: folder1
        children: []
    items:
      folder1:
        name: Folder 1
        type: folder
      folder2:
        name: Folder 2
        type: folder
---
case: "add node with position last"
in:
  - fileExplorer:
      tree:
        - id: folder1
          children: []
      items:
        folder1:
          name: "Folder 1"
          type: "folder"
  - target: fileExplorer
    value:
      id: folder2
      name: "Folder 2"
      type: "folder"
    options:
      position: "last"
out:
  fileExplorer:
    tree:
      - id: folder1
        children: []
      - id: folder2
        children: []
    items:
      folder1:
        name: Folder 1
        type: folder
      folder2:
        name: Folder 2
        type: folder
---
case: "add node to non-existent parent"
in:
  - fileExplorer:
      tree:
        - id: folder1
          children: []
      items:
        folder1:
          name: "Folder 1"
          type: "folder"
  - target: fileExplorer
    value:
      id: file1
      name: "File 1.txt"
      type: "file"
    options:
      parent: nonExistent
out:
  fileExplorer:
    tree:
      - id: folder1
        children: []
    items:
      folder1:
        name: Folder 1
        type: folder
      file1:
        name: File 1.txt
        type: file
---
case: "add node with complex properties"
in:
  - fileExplorer: {}
  - target: fileExplorer
    value:
      id: folder1
      name: "Project Folder"
      type: "folder"
      created: "2024-01-01"
      size: 1024
      tags: ["important", "work"]
out:
  fileExplorer:
    tree:
      - id: folder1
        children: []
    items:
      folder1:
        name: Project Folder
        type: folder
        created: "2024-01-01"
        size: 1024
        tags: ["important", "work"]

