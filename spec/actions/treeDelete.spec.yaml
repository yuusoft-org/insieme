file: "../../src/actions.js"
group: actions
suites: [treeDelete]
---
suite: treeDelete
exportName: treeDelete
---
case: "delete simple node"
in:
  - fileExplorer:
      tree:
        - id: folder1
          children: []
        - id: folder2
          children: []
      items:
        folder1:
          name: "Folder 1"
          type: "folder"
        folder2:
          name: "Folder 2"
          type: "folder"
  - target: fileExplorer
    options:
      id: folder1
out:
  fileExplorer:
    tree:
      - id: folder2
        children: []
    items:
      folder2:
        name: Folder 2
        type: folder
---
case: "delete node with children"
in:
  - fileExplorer:
      tree:
        - id: folder1
          children:
            - id: file1
              children: []
            - id: subfolder1
              children:
                - id: file2
                  children: []
        - id: folder2
          children: []
      items:
        folder1:
          name: "Folder 1"
          type: "folder"
        folder2:
          name: "Folder 2"
          type: "folder"
        file1:
          name: "File 1.txt"
          type: "file"
        subfolder1:
          name: "Subfolder 1"
          type: "folder"
        file2:
          name: "File 2.txt"
          type: "file"
  - target: fileExplorer
    options:
      id: folder1
out:
  fileExplorer:
    tree:
      - id: folder2
        children: []
    items:
      folder2:
        name: Folder 2
        type: folder
---
case: "delete non-existent node"
in:
  - fileExplorer:
      tree:
        - id: folder1
          children: []
      items:
        folder1:
          name: "Folder 1"
          type: "folder"
  - target: fileExplorer
    options:
      id: nonExistent
out:
  fileExplorer:
    tree:
      - id: folder1
        children: []
    items:
      folder1:
        name: Folder 1
        type: folder
---
case: "delete root node when multiple nodes exist"
in:
  - fileExplorer:
      tree:
        - id: folder1
          children: []
        - id: folder2
          children: []
        - id: folder3
          children: []
      items:
        folder1:
          name: "Folder 1"
          type: "folder"
        folder2:
          name: "Folder 2"
          type: "folder"
        folder3:
          name: "Folder 3"
          type: "folder"
  - target: fileExplorer
    options:
      id: folder1
out:
  fileExplorer:
    tree:
      - id: folder2
        children: []
      - id: folder3
        children: []
    items:
      folder2:
        name: Folder 2
        type: folder
      folder3:
        name: Folder 3
        type: folder
---
case: "delete last remaining node"
in:
  - fileExplorer:
      tree:
        - id: folder1
          children: []
      items:
        folder1:
          name: "Folder 1"
          type: "folder"
  - target: fileExplorer
    options:
      id: folder1
out:
  fileExplorer:
    tree: []
    items: {}
---
case: "delete nested child node"
in:
  - fileExplorer:
      tree:
        - id: folder1
          children:
            - id: subfolder1
              children:
                - id: file1
                  children: []
        - id: folder2
          children: []
      items:
        folder1:
          name: "Folder 1"
          type: "folder"
        folder2:
          name: "Folder 2"
          type: "folder"
        subfolder1:
          name: "Subfolder 1"
          type: "folder"
        file1:
          name: "File 1.txt"
          type: "file"
  - target: fileExplorer
    options:
      id: file1
out:
  fileExplorer:
    tree:
      - id: folder1
        children:
          - id: subfolder1
            children: []
      - id: folder2
        children: []
    items:
      folder1:
        name: Folder 1
        type: folder
      folder2:
        name: Folder 2
        type: folder
      subfolder1:
        name: Subfolder 1
        type: folder
---
case: "delete node with deeply nested children"
in:
  - fileExplorer:
      tree:
        - id: folder1
          children:
            - id: subfolder1
              children:
                - id: subsubfolder1
                  children:
                    - id: file1
                      children: []
                    - id: file2
                      children: []
        - id: folder2
          children: []
      items:
        folder1:
          name: "Folder 1"
          type: "folder"
        folder2:
          name: "Folder 2"
          type: "folder"
        subfolder1:
          name: "Subfolder 1"
          type: "folder"
        subsubfolder1:
          name: "Sub-Subfolder 1"
          type: "folder"
        file1:
          name: "File 1.txt"
          type: "file"
        file2:
          name: "File 2.txt"
          type: "file"
  - target: fileExplorer
    options:
      id: subfolder1
out:
  fileExplorer:
    tree:
      - id: folder1
        children: []
      - id: folder2
        children: []
    items:
      folder1:
        name: Folder 1
        type: folder
      folder2:
        name: Folder 2
        type: folder
---
case: "delete middle node with children"
in:
  - fileExplorer:
      tree:
        - id: folder1
          children: []
        - id: folder2
          children:
            - id: file1
              children: []
            - id: subfolder2
              children:
                - id: file2
                  children: []
        - id: folder3
          children: []
      items:
        folder1:
          name: "Folder 1"
          type: "folder"
        folder2:
          name: "Folder 2"
          type: "folder"
        folder3:
          name: "Folder 3"
          type: "folder"
        file1:
          name: "File 1.txt"
          type: "file"
        subfolder2:
          name: "Subfolder 2"
          type: "folder"
        file2:
          name: "File 2.txt"
          type: "file"
  - target: fileExplorer
    options:
      id: folder2
out:
  fileExplorer:
    tree:
      - id: folder1
        children: []
      - id: folder3
        children: []
    items:
      folder1:
        name: Folder 1
        type: folder
      folder3:
        name: Folder 3
        type: folder
---
case: "delete node from empty tree"
in:
  - fileExplorer:
      tree: []
      items: {}
  - target: fileExplorer
    options:
      id: nonExistent
out:
  fileExplorer:
    tree: []
    items: {}
---
case: "delete node from tree with only children"
in:
  - fileExplorer:
      tree:
        - id: folder1
          children:
            - id: file1
              children: []
            - id: file2
              children: []
      items:
        folder1:
          name: "Folder 1"
          type: "folder"
        file1:
          name: "File 1.txt"
          type: "file"
        file2:
          name: "File 2.txt"
          type: "file"
  - target: fileExplorer
    options:
      id: file1
out:
  fileExplorer:
    tree:
      - id: folder1
        children:
          - id: file2
            children: []
    items:
      folder1:
        name: Folder 1
        type: folder
      file2:
        name: File 2.txt
        type: file
---
case: "delete multiple nodes sequentially"
in:
  - fileExplorer:
      tree:
        - id: folder1
          children:
            - id: file1
              children: []
        - id: folder2
          children: []
        - id: folder3
          children:
            - id: file2
              children: []
      items:
        folder1:
          name: "Folder 1"
          type: "folder"
        folder2:
          name: "Folder 2"
          type: "folder"
        folder3:
          name: "Folder 3"
          type: "folder"
        file1:
          name: "File 1.txt"
          type: "file"
        file2:
          name: "File 2.txt"
          type: "file"
  - target: fileExplorer
    options:
      id: folder2
out:
  fileExplorer:
    tree:
      - id: folder1
        children:
          - id: file1
            children: []
      - id: folder3
        children:
          - id: file2
            children: []
    items:
      folder1:
        name: Folder 1
        type: folder
      folder3:
        name: Folder 3
        type: folder
      file1:
        name: File 1.txt
        type: file
      file2:
        name: File 2.txt
        type: file
