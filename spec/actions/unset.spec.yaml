file: "../../src/actions.js"
group: actions
suites: [unset]
---
suite: unset
exportName: unset
---
case: "unset existing primitive property"
in:
  - name: "hello"
    age: 12
  - target: age
out:
  name: hello
---
case: "unset existing object property"
in:
  - user:
      profile:
        name: "john"
        age: 25
  - target: user.profile
out:
  user: {}
---
case: "unset nested property"
in:
  - user:
      profile:
        name: "john"
        age: 25
        active: true
  - target: user.profile.age
out:
  user:
    profile:
      name: john
      active: true
---
case: "unset deep nested property"
in:
  - app:
      config:
        database:
          host: "localhost"
          port: 5432
          ssl: true
  - target: app.config.database.ssl
out:
  app:
    config:
      database:
        host: localhost
        port: 5432
---
case: "unset non-existent property"
in:
  - name: "hello"
    age: 12
  - target: nonExistent
out:
  name: hello
  age: 12
---
case: "unset non-existent nested path"
in:
  - user:
      name: "john"
  - target: user.profile.age
out:
  user:
    name: john
---
case: "unset last remaining property in object"
in:
  - user:
      name: "john"
  - target: user.name
out:
  user: {}
---
case: "unset property from array mixed object"
in:
  - users:
      name: "john"
      items: [1, 2, 3]
  - target: users.items
out:
  users:
    name: john
---
case: "unset root level property"
in:
  - name: "john"
  - target: name
out:
  {}
---
case: "unset with empty path should do nothing"
in:
  - name: "john"
    age: 25
  - target: ""
out:
  name: john
  age: 25
---
case: "unset multiple levels deep"
in:
  - level1:
      level2:
        level3:
          level4:
            value: "deep"
  - target: level1.level2.level3.level4.value
out:
  level1:
    level2:
      level3:
        level4: {}
---
case: "unset when parent path doesn't exist"
in:
  - existing: "value"
  - target: nonExistent.path.property
out:
  existing: value
---
case: "unset from object with null values"
in:
  - user:
      name: "john"
      age: null
      active: false
  - target: user.age
out:
  user:
    name: john
    active: false
---
case: "unset from object with undefined values"
in:
  - user:
      name: "john"
      age: undefined
      active: true
  - target: user.age
out:
  user:
    name: john
    active: true
---
case: "unset boolean property"
in:
  - user:
      active: true
      admin: false
  - target: user.admin
out:
  user:
    active: true
---
case: "unset string property"
in:
  - user:
      name: "john"
      email: "john@example.com"
  - target: user.email
out:
  user:
    name: john
---
case: "unset number property"
in:
  - user:
      name: "john"
      age: 25
      score: 100
  - target: user.score
out:
  user:
    name: john
    age: 25
---
case: "unset property but keep other nested properties"
in:
  - config:
      database:
        host: "localhost"
        port: 5432
      cache:
        enabled: true
        ttl: 300
  - target: config.database
out:
  config:
    cache:
      enabled: true
      ttl: 300
---
case: "unset from complex nested structure"
in:
  - app:
      modules:
        auth:
          providers:
            google:
              enabled: true
              clientId: "google-client"
            github:
              enabled: true
              clientId: "github-client"
        storage:
          local: true
          cloud: false
  - target: app.modules.auth.providers.github
out:
  app:
    modules:
      auth:
        providers:
          google:
            enabled: true
            clientId: google-client
      storage:
        local: true
        cloud: false
---
case: "unset when target is null"
in:
  - user: null
  - target: user.name
out:
  user: null
---
case: "unset when target is undefined"
in:
  - user: null
  - target: user.name
out:
  user: null
---
case: "unset property with numeric key name"
in:
  - users:
      "123": "user123"
      "456": "user456"
  - target: users.123
out:
  users:
    "456": "user456"
---
case: "unset from empty object"
in:
  - user: {}
  - target: user.name
out:
  user: {}
---
case: "unset entire object leaving empty shell"
in:
  - database:
      host: "localhost"
      port: 5432
      credentials:
        username: "admin"
        password: "secret"
  - target: database.credentials
out:
  database:
    host: localhost
    port: 5432